<!DOCTYPE html>
<html>
	<head>
		<title>Chitter</title>
		<link rel="stylesheet" href="./public/css/reset.css">
		<link rel="stylesheet" href="./public/css/stylesheet.css">
		<meta charset="utf-8">
	</head>
	<body>
		<div id="top_bar">
		</div>
			<header>
				<nav class="top_nav">
					<img src="https://g.twimg.com/Twitter_logo_blue.png" id="twitter_icon"/>
					<nav class="left_nav">
						<ul>
							<li id="home"><a href="/"><img src="./public/images/home.png" id="home_icon"/>Home</a></li>
							<li><a href="/">Discover</a></li>
						</ul>
					</nav>
					<aside class="right_nav">
						<ul>
							<li><img src="./public/images/profile_picture.jpg" class="my_picture"/></li>
							<li id="post">Post</li>
						</ul>
					</aside>
				</nav>
			</header>
			<main id="main">
				<section id="content">
					<section id="logged_out_page">
						<section id="welcome_message">
							<h1>Welcome to Chitter</h1>
							<p>Connect with your Makers â€” and other fascinating people. Get in-the-moment updates on the codes that interest you. And watch events unfold, in real time, from every angle.</p>
						</section>
						<section id="sign_in_form">
							<form action="/" method="post">
								<p class="form_field"><input type="text" placeholder="Username" name="username" class="user_input" id="username_input"></p>
								<p class="form_field"><input type="password" placeholder="Password" name="password" class="user_input" id="password_input"></p>
								<input type="submit" value="Sign in" id="sign_in_button">
							</form>			
						</section>
						<section id="sign_up_form">
							<h2><strong>New to Chitter? </strong>Sign up</h2>
							<form action="/" method="post">
								<p class="form_field"><input name="name" type="text" placeholder="Name"  class="user_input"  value="<%= @user.name %>"></p>
								<p class="form_field"><input name="username" type="text" placeholder="Username"  class="user_input"  value="<%= @user.username %>"> </p>
								<p class="form_field"><input name="email" type="text" placeholder="Email"  class="user_input" value="<%= @user.email %>">
								</p>
								<p class="form_field"><input name="password" placeholder="Password" type="password" class="user_input" ></p>
								<p class="form_field"><input name="password_confirmation" placeholder="Confirm password" type="password" class="user_input" >
								</p>
								<p><input type="submit" value="Sign up" id="sign_up_button"></p>
							</form>
						</section>
					</section>
					<section id="logged_in_page">
						<section id="left_bar">
							<header></header>
							<article id="user_info">
								<img src="./public/images/profile_picture.jpg" class="my_picture"/>
								<article id="identity">
								<h1>MadameSardine</h1>
								<h2>@MadameSardine</h2>
								</article>
							</article>
							<article id="peep_box">
								<input type="text" placeholder="Compose new peep" id="new_peep_content"/>
								<a href="#" id="validate_peep">Send</a>
							</article>
						</section>
						<section id="peeps">
							<h1>Peeps</h1>
							<article class="peep_list">
								<header>
									<h3 class="full_name">Full name</h3>
									<h3 class="username">@username</h3>
								</header>
								<p class="peep_content">blablablabla</p>
							</article>
						</section>
					<section>
				<section>
			</main>
		<template id="peepTemplate">
			<article>
				<header>
					<h3 class="full_name">{{name}}</h3>
					<h3 class="username">{{username}}</h3>
				</header>
				<p class="peep_content">{{peepContent}}</p>
				<a href="#" id="reply_button">Reply</a>
			</article>
		</template>
		<script type="text/javascript" src="./public/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="./public/handlebars.js"></script>
		<script type="text/javascript">

				$('#sign_in_button').on('click',function(){
					$('#logged_out_page').hide();
					$('#logged_in_page').display();
				});

				$('#validate_peep').on('click',function(){

				var peep_content = $('#new_peep_content').val();
				
				var source = $('#peepTemplate').html();
				var template = Handlebars.compile(source);
				var context = {
				name: "Sandrine",
				username: "MadameSardine",
				peepContent: "Test"
				};
				$('#peeps').append(template(context));
				$('#peeps article').last().addClass('peep_list');
				$('#new_peep_content').val('');
				
			});

		</script>

	</body>
</html>